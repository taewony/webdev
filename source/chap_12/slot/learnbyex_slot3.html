<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Slot Machine</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        font-size: 30px;

        /* í™”ë©´ ì¤‘ì•™ ì •ë ¬ */
        display: flex; /* Flexbox(í”Œë ‰ìŠ¤ë°•ìŠ¤) ë ˆì´ì•„ì›ƒ ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ ìš”ì†Œ ë°°ì¹˜ë¥¼ ìœ ì—°í•˜ê²Œ ì œì–´ */
        flex-direction: column; /* ì£¼ ì¶•ì„ ì„¸ë¡œ ë°©í–¥ìœ¼ë¡œ ì„¤ì • */
        align-items: center;
        justify-content: center;

        height: 100vh; /* í™”ë©´ ì „ì²´ ë†’ì´: bodyì˜ ë†’ì´ë¥¼ í˜„ì¬ ë³´ê³  ìˆëŠ” í™”ë©´(Viewport) ë†’ì´ì˜ 100%ë¡œ ì„¤ì • */
        margin: 0; /* ë¸Œë¼ìš°ì €ê°€ ì£¼ëŠ” ê¸°ë³¸ ì—¬ë°± ì œê±° */
      }

      /* ìŠ¬ë¡¯ 3ê°œë¥¼ ê°€ë¡œë¡œ ë°°ì¹˜ */
      .slot-machine {
        display: flex;
        justify-content: center;
        align-items: center;

        height: 200px;
        font-size: 3.5em;
        margin-bottom: 20px;
      }

      /* ìŠ¬ë¡¯ ê°„ ê°„ê²© */
      .slot {
        padding: 0 40px;
      }

      /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
      button {
        padding: 5px 15px;
        font-size: 16px;
        background-color: #99aed5;
        color: white;
        border: 2px solid #7a91c0;
        border-radius: 4px;
        cursor: pointer;
        box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease;
      }

      button:hover {
        background-color: #7a91c0;
        border-color: #5a7198;
        box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
      }
    </style>
  </head>
  <body>
    <h2>Welcome to the Slot Machine Game!</h2>
    <p>
      Try your luck and CLICK the button!
      <button onclick="startSlotMachine()">ìŠ¬ë¡¯ë¨¸ì‹  ëŒë¦¬ê¸°</button>
    </p>

    <!-- ìŠ¬ë¡¯ë¨¸ì‹  ì˜ì—­ -->
    <div class="slot-machine">
      <span class="slot" id="slot1">ğŸ€</span>
      <span class="slot" id="slot2">â­</span>
      <span class="slot" id="slot3">â›„</span>
    </div>

    <!-- ìŠ¬ë¡¯ë¨¸ì‹  ì‹œì‘ ë²„íŠ¼ -->
    <button onclick="startSlotMachine()">ìŠ¬ë¡¯ë¨¸ì‹  ëŒë¦¬ê¸°</button>

    <!-- ê²°ê³¼ ì¶œë ¥ -->
    <p id="result"></p>

    <script>
      // ìŠ¬ë¡¯ì— ì‚¬ìš©í•  ì‹¬ë³¼ ëª©ë¡
      const symbols = ["ğŸ€", "â­", "â›„", "ğŸ’˜", "ğŸ¬"];

      // ìŠ¬ë¡¯ DOM ìš”ì†Œë“¤
      const slots = document.querySelectorAll(".slot");

      // ê²°ê³¼ ì¶œë ¥ ì˜ì—­
      const resultElement = document.getElementById("result");

      // ìŠ¬ë¡¯ì´ í˜„ì¬ ëŒì•„ê°€ê³  ìˆëŠ”ì§€ ì—¬ë¶€ (ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€)
      let isSpinning = false;

      // ëœë¤ ì‹¬ë³¼ í•˜ë‚˜ ë°˜í™˜
      function getRandomSymbol() {
        const index = Math.floor(Math.random() * symbols.length);
        return symbols[index];
      }

      // ìŠ¬ë¡¯ë¨¸ì‹  ì‹œì‘
      function startSlotMachine() {
        // ì´ë¯¸ ëŒì•„ê°€ê³  ìˆìœ¼ë©´ ë¬´ì‹œ
        if (isSpinning) return;
        isSpinning = true;

        resultElement.textContent = ""; // ì´ì „ ê²°ê³¼ ì´ˆê¸°í™”

        const intervalTime = 100; // ms
        const maxIterations = 50;
        let iterationCount = 0;

        // â–¶ï¸ ë§¤ ì‹¤í–‰ë§ˆë‹¤ ìƒˆ ìµœì¢… ê²°ê³¼ ìƒì„±
        const finalSymbols = Array.from({ length: slots.length }, () =>
          getRandomSymbol()
        );

        // ìŠ¬ë¡¯ íšŒì „ í•¨ìˆ˜
        const intervalId = setInterval(() => {
          iterationCount++;

          // íšŒì „ ì¤‘ ëœë¤ ì‹¬ë³¼ í‘œì‹œ
          slots.forEach((slot) => {
            slot.textContent = getRandomSymbol();
          });

          // íšŒì „ ì¢…ë£Œ ì¡°ê±´
          if (iterationCount >= maxIterations) {
            clearInterval(intervalId);

            // ìµœì¢… ê²°ê³¼ í‘œì‹œ
            slots.forEach((slot, index) => {
              slot.textContent = finalSymbols[index];
            });

            // ê²°ê³¼ íŒì •
            showResult(finalSymbols);

            isSpinning = false;
          }
        }, intervalTime);
      }

      // ê²°ê³¼ íŒì • í•¨ìˆ˜
      function showResult(finalSymbols) {
        if (
          finalSymbols[0] === finalSymbols[1] &&
          finalSymbols[1] === finalSymbols[2]
        ) {
          resultElement.textContent = "ì­íŒŸ!";
        } else if (
          finalSymbols[0] === finalSymbols[1] ||
          finalSymbols[1] === finalSymbols[2] ||
          finalSymbols[0] === finalSymbols[2]
        ) {
          resultElement.textContent = "2ê°œ ë§ì•˜ìŒ";
        } else {
          resultElement.textContent = "ê½!";
        }
      }
    </script>
  </body>
</html>
